There is no reason why the same entity needs to be responsible for
\emph{issuing IOUs} and for \emph{processing the order book}. In fact, this is
is actually a disadvantage from a security standpoint. It is only because these
two roles have been combined that there is a tendency toward centralization in
the Bitcoin exchange space. Since both sides of any order book consist of
amount/price pairs, it makes more sense to store this data on a public ledger
such as a blockchain. Therefore, to create a decentralized exchange, the first
step is to move the order book onto the blockchain so that anyone can see and
audit it.

After this is done, \emph{gateway services} can still be used to enter and
leave exchange order book through IOUs, just like a traditional exchange uses.
The blockchain can allow users to trade, for example, BitstampUSD against
BitfinexUSD, and in order to easily move funds from one gateway to another.
Users could even trade BitstampUSD against BitstampBTC or BitstampUSD vs
BitfinexBTC.

With this model, traditional exchanges merely act as gateways that receive fiat
and issue GatewayFiat as an UIA on the blockchain (In reverse, they would
receive their own GatewayFiat token, execute a wire transfer and then burn the
token). These gateways would make their money entirely on transaction fees and
from a percentage of the trading fees similar to their current model.

But simply moving the order book to the blockchain is not enough, because the
market would naturally centralize around a few gateway IOUs and the markets for
them. Also, BitstampUSD is not fungible with BitfinexUSD because they have
different trust profiles and regulatory considerations. Plus, any IOU carries
the risk default similar to the the IOUs that currently exist on the exchanges'
internal databases. If we only had gateway IOUs, it would prevent the
possibility of having a single, unified order book for USD pairs (or any fiat
pair).

Fortunately, BitShares has solved this issue with market-pegged assets. We have
bitUSD which is backed by collateral and is independent of governments or
centralized entities, and trades for \$1 independent of any gateway. It is also
universal because users don't need to register their identity with anyone to
use bitUSD or any other market pegged asset. So bitUSD pairs can now act as the
\emph{universal order book}, where users are safe to keep their funds on the
books without risking counterparty exposure. This core features sets BitShare
apart from Ripple, because BitShares has this unique ``\emph{software
protocol-based counterparty}'' that can never cheat a user out of their funds.
